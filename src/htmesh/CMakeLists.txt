INCLUDE(CheckFunctionExists)
check_function_exists(drand48 HAVE_DRAND48)

configure_file( ${CMAKE_CURRENT_SOURCE_DIR}/config-htmesh.h.cmake 
                ${CMAKE_CURRENT_BINARY_DIR}/config-htmesh.h 
              )

### HTMesh library
set(HTMesh_LIB_SRCS
	HtmRange.cpp
	HtmRangeIterator.cpp
	RangeConvex.cpp
	SkipList.cpp
	SkipListElement.cpp
	SpatialConstraint.cpp
	SpatialEdge.cpp
	SpatialException.cpp
	SpatialIndex.cpp
	SpatialVector.cpp
	HTMesh.cpp
	MeshBuffer.cpp
	MeshIterator.cpp
)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${KDE4_ENABLE_EXCEPTIONS}")

kde4_add_library(htmesh STATIC ${HTMesh_LIB_SRCS})

add_definitions(-D_EXPORTING)

set_target_properties(htmesh PROPERTIES
    VERSION 1.0.0
    SOVERSION 1)
install(TARGETS htmesh ${INSTALL_TARGETS_DEFAULT_ARGS} )
